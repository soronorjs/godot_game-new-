[gd_scene load_steps=23 format=3 uid="uid://psu3mc3itic5"]

[ext_resource type="Script" path="res://GameObjects/Player/Scripts/CharacterController.gd" id="1_kvma6"]
[ext_resource type="Script" path="res://GameObjects/Player/Scripts/MenuControl.gd" id="3_4w0vg"]
[ext_resource type="Texture2D" uid="uid://cj5mk4pdhngno" path="res://art/Player.png" id="3_7tc64"]
[ext_resource type="Script" path="res://GameObjects/Camera/Scripts/Camera2D.gd" id="4_0wecj"]
[ext_resource type="Script" path="res://GameObjects/LevelObjects/Scripts/Killzone.gd" id="5_jx7um"]
[ext_resource type="Texture2D" uid="uid://c6digei8o6dds" path="res://art/placeholder_enemy.png" id="6_i6u8o"]
[ext_resource type="Script" path="res://GameObjects/Enemies/KnightController.gd" id="6_n0hcj"]
[ext_resource type="Texture2D" uid="uid://cgj51m2ggmwje" path="res://art/Normal Maps/KnightNormal.png" id="8_huonh"]
[ext_resource type="Texture2D" uid="uid://m0q10bjax85n" path="res://art/light.png" id="9_hxmwk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dqhsm"]
size = Vector2(226, 137)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_fum7p"]
radius = 12.0
height = 40.0

[sub_resource type="BoxMesh" id="BoxMesh_jir4g"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rvv5c"]
size = Vector2(1.00348, 1.09091)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3em7x"]
size = Vector2(1.00348, 0.969697)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_wtajc"]
cull_mode = 2
polygon = PackedVector2Array(-0.507246, -0.499394, 0.492754, -0.499394, 0.492754, 0.530909, -0.507246, 0.530909)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p3anb"]
size = Vector2(603, 171)

[sub_resource type="CanvasTexture" id="CanvasTexture_bhaho"]
diffuse_texture = ExtResource("6_i6u8o")
normal_texture = ExtResource("8_huonh")

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ew6hu"]
cull_mode = 2
polygon = PackedVector2Array(-6, -26, -8, -26, -8, -24, -9, -24, -9, -23, -9, -21, -10, -21, -11, -21, -11, -18, -12, -18, -12, -20, -13, -20, -13, -18, -14, -20, -16, -22, -18, -24, -21, -22, -20, -19, -18, -18, -17, -17, -18, -16, -19, -12, -19, -3, -16, 1, -14, 1, -16, 4, -15, 10, -15, 15, -16, 19, -11, 21, -6, 19, -5, 12, -3, 19, -1, 22, 5, 20, 5, 15, 5, 10, 8, 8, 12, 6, 10, 1, 7, -2, 9, -5, 11, -9, 13, -11, 10, -15, 6, -19, 5, -22, 2, -26, -3, -28)

[sub_resource type="ConvexPolygonShape2D" id="ConvexPolygonShape2D_7xp6a"]
points = PackedVector2Array(-2.125, 41.52, 46.27, -2.885, -1.62, 2.24)

[sub_resource type="Gradient" id="Gradient_jbv6s"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_a6a2u"]
gradient = SubResource("Gradient_jbv6s")

[sub_resource type="CanvasTexture" id="CanvasTexture_1ow8i"]
diffuse_texture = SubResource("GradientTexture1D_a6a2u")

[node name="Node2D" type="Node2D"]

[node name="Area2D2" type="Area2D" parent="."]
position = Vector2(0, -51)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D2"]
position = Vector2(5, -17.5)
shape = SubResource("RectangleShape2D_dqhsm")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
position = Vector2(-94, -53)
script = ExtResource("1_kvma6")

[node name="MenuControl" type="Node" parent="CharacterBody2D"]
script = ExtResource("3_4w0vg")

[node name="Player" type="Sprite2D" parent="CharacterBody2D"]
position = Vector2(-8.00001, 1)
scale = Vector2(0.193333, 0.193333)
texture = ExtResource("3_7tc64")
offset = Vector2(50.862, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(1, 1)
shape = SubResource("CapsuleShape2D_fum7p")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(3.44, 3.44)
script = ExtResource("4_0wecj")

[node name="MeshInstance2D" type="MeshInstance2D" parent="."]
position = Vector2(-1, 7)
scale = Vector2(287, 16.5)
mesh = SubResource("BoxMesh_jir4g")

[node name="StaticBody2D" type="StaticBody2D" parent="MeshInstance2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="MeshInstance2D/StaticBody2D"]
position = Vector2(0.00174219, 0.0151514)
shape = SubResource("RectangleShape2D_rvv5c")

[node name="MeshInstance2D2" type="MeshInstance2D" parent="."]
position = Vector2(-1, -29.76)
scale = Vector2(69, 16.5)
mesh = SubResource("BoxMesh_jir4g")

[node name="StaticBody2D" type="StaticBody2D" parent="MeshInstance2D2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="MeshInstance2D2/StaticBody2D"]
position = Vector2(-0.0034839, 0)
shape = SubResource("RectangleShape2D_3em7x")

[node name="LightOccluder2D" type="LightOccluder2D" parent="MeshInstance2D2"]
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_wtajc")

[node name="Area2D" type="Area2D" parent="."]
script = ExtResource("5_jx7um")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-7, 140.5)
shape = SubResource("RectangleShape2D_p3anb")

[node name="Checkpoint" type="Marker2D" parent="."]
position = Vector2(-1, -65)

[node name="CharacterBody2D2" type="CharacterBody2D" parent="."]
position = Vector2(99, -42)
script = ExtResource("6_n0hcj")

[node name="PlaceholderEnemy" type="Sprite2D" parent="CharacterBody2D2"]
rotation = 6.28319
texture = SubResource("CanvasTexture_bhaho")

[node name="LightOccluder2D" type="LightOccluder2D" parent="CharacterBody2D2/PlaceholderEnemy"]
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_ew6hu")

[node name="ShapeCast2D" type="ShapeCast2D" parent="CharacterBody2D2/PlaceholderEnemy"]
position = Vector2(-46, -17)
shape = SubResource("ConvexPolygonShape2D_7xp6a")
target_position = Vector2(-1, -1)

[node name="RayCast2D" type="RayCast2D" parent="CharacterBody2D2/PlaceholderEnemy"]
position = Vector2(33, 0)
target_position = Vector2(0, 80)

[node name="Line2D" type="Line2D" parent="CharacterBody2D2/PlaceholderEnemy"]
position = Vector2(-99, 42)
points = PackedVector2Array(0, 0, -40, 0)
width = 2.0
default_color = Color(1, 0, 0, 1)
texture = SubResource("CanvasTexture_1ow8i")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="CharacterBody2D2"]
visible = false
position = Vector2(-101, 27)
polygon = PackedVector2Array(92, -55, 90, -49, 87, -44, 82, -39, 81, -33, 82, -28, 86, -26, 86, -21, 86, -14, 87, -13, 86, -11, 85, -7, 89, -6, 94, -6, 103, -6, 108, -7, 107, -10, 105, -12, 107, -14, 106, -17, 108, -19, 111, -19, 113, -22, 112, -25, 109, -28, 111, -30, 111, -34, 113, -36, 111, -43, 108, -46, 105, -46, 107, -49, 105, -51, 102, -54, 98, -55)
one_way_collision = true

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="CharacterBody2D2"]
path_postprocessing = 1
avoidance_enabled = true
debug_enabled = true

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
position = Vector2(0, -439)
energy = 0.45
shadow_enabled = true
shadow_color = Color(0, 0, 0, 0.0352941)
shadow_filter = 2
shadow_filter_smooth = 2.1
max_distance = 28705.0

[node name="CanvasModulate" type="CanvasModulate" parent="."]

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(6, -77)
color = Color(0.92549, 0.4, 0.215686, 1)
shadow_enabled = true
shadow_color = Color(0, 0, 0, 0.0823529)
shadow_filter = 2
shadow_filter_smooth = 0.3
texture = ExtResource("9_hxmwk")
texture_scale = 0.2

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -1
offset_left = -169.0
offset_top = -137.0
offset_right = 167.0
offset_bottom = 108.0
color = Color(0.658824, 0.396078, 0.278431, 1)

[connection signal="body_exited" from="Area2D2" to="CharacterBody2D2" method="_on_area_2d_2_body_exited"]
[connection signal="velocity_computed" from="CharacterBody2D2/NavigationAgent2D" to="CharacterBody2D" method="_on_navigation_agent_2d_velocity_computed"]
[connection signal="velocity_computed" from="CharacterBody2D2/NavigationAgent2D" to="CharacterBody2D2" method="_on_navigation_agent_2d_velocity_computed"]
